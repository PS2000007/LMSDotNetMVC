@*@using Library.Models;
@model BooksViewModule*@

@using Library.Models
@model Library.Models.BooksViewModule
@{
    Layout = null;
}

<!DOCTYPE html>

<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>InsertBooks</title>
    @Styles.Render("~/Content/css")
    @Scripts.Render("~/bundles/bootstrap")
    @Scripts.Render("~/bundles/jquery")
    @Scripts.Render("~/bundles/jqueryval")
    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
  
    <style>
        .modal-content{
          height: 500px;
          width: 700px;
           }

        body {

  padding-top: 40px;
  padding-bottom: 40px;
}
    </style>
 
       <script>
           $(document).ready(function () {
               $("#AddBook").click(function () {
                   if ($("#bookform").valid()) {
                       AddBook();
                   }        
               })
           });

           function AddBook() {

                   var valdata = $("#bookform").serialize();

                   $.ajax({
                       url: '/Books/AddBook',  
                       type: 'post',   
                       dataType: 'json',   
                       contentType: 'application/x-www-form-urlencoded; charset=UTF-8',   
                       data: valdata,   
                       success: function (resp) {
                       console.log(resp);
                       alert(resp);
                       }
                   })
               }
          
  </script>
</head>

<body>


    <center>
        <div class="c">
            <form id="bookform">
                @Html.AntiForgeryToken()
                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                <table>
                    <tr>
                        @Html.Hidden("Book_Id", Model.Book_Id)
                        <td><label>Book Name</label></td>
                        <td>
                            @Html.TextBoxFor(Model => Model.Book_Name, null, new { @class = "form-control", @placeholder = "Enter Book Name ", @id = "Book_Name" })
                            @Html.ValidationMessageFor(model => Model.Book_Name, "", new { @class = "text-danger" })
                        </td>

                    </tr>
                    <tr>
                        <td><label>Book Pages</label></td>
                        <td>
                            @Html.TextBoxFor(Model => Model.Book_Pages, null, new { @class = "form-control", @placeholder = "Enter Book Pages ", @id = "Book_Pages" })
                            @Html.ValidationMessageFor(model => model.Book_Pages, "", new { @class = "text-danger" })
                        </td>
                    </tr>
                    <tr>
                        <td><label>Book Price</label></td>
                        <td>
                            @Html.TextBoxFor(Model => Model.Book_Price, null, new { @class = "form-control", @placeholder = "Enter Book Price ", @id = "Book_Price" })
                            @Html.ValidationMessageFor(model => model.Book_Price, "", new { @class = "text-danger" })
                        </td>
                    </tr>
                    <tr>
                        <td><label>Categorie</label></td>
                        <td>
                            @Html.DropDownListFor(Model => Model.categoryid, new SelectList(Model.categories, "Category_Id", "Category_Name"), "Select", new { @id = "Category_Name", @class = "myclass" })
                            @Html.ValidationMessageFor(model => model.categoryid)
                        </td>
                    </tr>
                    <tr>
                        <td><label>Publisher</label></td>
                        <td>
                            @Html.DropDownListFor(Model => Model.publisherid, new SelectList(Model.publishers, "Publisher_Id", "Publisher_Name"), "Select", new { @id = "Publisher_Name", @class = "myclass" })
                            @Html.ValidationMessageFor(model => model.publisherid)
                        </td>
                    </tr>
                    <tr>
                        <td><label>Is Active</label></td>
                        <td>
                            @Html.CheckBoxFor(Model => Model.IsActive, new { @checked = Model.IsActive })
                        </td>
                    </tr>
                    <tr><td></td></tr>
                    <tr>
                        <td><button type="submit" id="AddBook" class="btn btn-default">Save</button></td>
                        <td><input type="button" class="btn btn-default" value="Cancel" onclick="location.href='@Url.Action("Index", "Books")'" /></td>
                    </tr>
                </table>
            </form>


        </div>
       
    </center>

 
</body>
</html>
